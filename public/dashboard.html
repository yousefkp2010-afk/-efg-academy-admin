<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… - EFG Academy</title>
    <style>
        :root {
            --primary-blue: #0d1b36;
            --accent-blue: #1e3a8a;
            --gold: #d4af37;
            --light-bg: #f8fafc;
            --white: #ffffff;
            --text-dark: #1e293b;
            --gray: #64748b;
            --light-gray: #e2e8f0;
            --success: #10b981;
            --error: #ef4444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--light-bg);
            color: var(--text-dark);
        }

        .header {
            background: var(--primary-blue);
            color: var(--white);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(13, 27, 54, 0.1);
        }

        .nav-tabs {
            background: var(--white);
            padding: 0 2rem;
            display: flex;
            gap: 2rem;
            border-bottom: 2px solid var(--light-gray);
        }

        .nav-tab {
            padding: 1rem 0;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }

        .nav-tab:hover {
            color: var(--accent-blue);
        }

        .nav-tab.active {
            border-bottom-color: var(--gold);
            color: var(--primary-blue);
            font-weight: bold;
        }

        .content {
            padding: 2rem;
            min-height: calc(100vh - 140px);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .tab-content.active {
            display: block;
        }

        .logout-btn {
            background: var(--gold);
            color: var(--primary-blue);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: #b8941f;
            transform: translateY(-2px);
        }

        /* Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„ */
        .form-container {
            background: var(--white);
            padding: 2rem;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(13, 27, 54, 0.1);
            margin-bottom: 2rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--primary-blue);
        }

        input, textarea, select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--light-gray);
            border-radius: 8px;
            font-family: inherit;
            transition: border 0.3s ease;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--accent-blue);
        }

        textarea {
            min-height: 100px;
            resize: vertical;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-block;
            text-decoration: none;
        }

        .btn-primary {
            background: var(--gold);
            color: var(--primary-blue);
        }

        .btn-primary:hover {
            background: #b8941f;
            transform: translateY(-2px);
        }

        .btn-danger {
            background: var(--error);
            color: var(--white);
        }

        .btn-danger:hover {
            background: #dc2626;
        }

        /* Ù‚ÙˆØ§Ø¦Ù… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª */
        .data-list {
            background: var(--white);
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(13, 27, 54, 0.1);
            overflow: hidden;
        }

        .data-item {
            padding: 1.5rem;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .data-item:last-child {
            border-bottom: none;
        }

        .data-item:hover {
            background: var(--light-bg);
        }

        .data-content h4 {
            color: var(--primary-blue);
            margin-bottom: 0.5rem;
        }

        .data-content p {
            color: var(--gray);
            margin-bottom: 0.5rem;
        }

        .data-meta {
            font-size: 0.9rem;
            color: var(--gray);
        }

        .data-actions {
            display: flex;
            gap: 0.5rem;
        }

        .message {
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            text-align: center;
        }

        .message.success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #a7f3d0;
        }

        .message.error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #fecaca;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */
.notification-badge {
    background: #ef4444;
    color: white;
    border-radius: 50%;
    padding: 2px 6px;
    font-size: 0.7rem;
    margin-right: 5px;
}

.data-item {
    transition: all 0.3s ease;
}

.data-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
    </style>
</head>
<body>
    <div class="header">
        <h1>Ù„ÙˆØ­Ø© ØªØ­ÙƒÙ… EFG Academy</h1>
        <a href="/admin/logout" class="logout-btn">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</a>
    </div>
    
    <div class="nav-tabs">
        <div class="nav-tab active" data-tab="news">ğŸ“° Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</div>
        <div class="nav-tab" data-tab="courses">ğŸ“š Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª</div>
        <div class="nav-tab" data-tab="lessons">ğŸ“ Ø§Ù„Ø¯Ø±ÙˆØ³</div>
        <div class="nav-tab" data-tab="notifications">ğŸ”” Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</div>
    </div>

    <div class="content">
        <!-- Ù‚Ø³Ù… Ø§Ù„Ø£Ø®Ø¨Ø§Ø± -->
        <div id="news" class="tab-content active">
            <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø®Ø¨Ø§Ø±</h2>
            
            <div class="form-container">
                <h3>Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯</h3>
                <form id="newsForm">
                    <div class="form-group">
                        <label for="newsTitle">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø®Ø¨Ø±:</label>
                        <input type="text" id="newsTitle" name="title" required>
                    </div>
                    <div class="form-group">
                        <label for="newsDescription">ÙˆØµÙ Ø§Ù„Ø®Ø¨Ø±:</label>
                        <textarea id="newsDescription" name="description" required></textarea>
                    </div>
                    <div class="form-group">
                        <label for="newsImage">Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©:</label>
                        <input type="url" id="newsImage" name="image" placeholder="https://example.com/image.jpg">
                    </div>
                    <div class="form-group">
                        <label for="newsType">Ù†ÙˆØ¹ Ø§Ù„Ø®Ø¨Ø±:</label>
                        <select id="newsType" name="type">
                            <option value="Ø¥Ø·Ù„Ø§Ù‚">Ø¥Ø·Ù„Ø§Ù‚</option>
                            <option value="Ù…Ø³Ø§Ø¨Ù‚Ø©">Ù…Ø³Ø§Ø¨Ù‚Ø©</option>
                            <option value="ØªØ³Ø¬ÙŠÙ„">ØªØ³Ø¬ÙŠÙ„</option>
                            <option value="Ø¨ÙˆØ¯ÙƒØ§Ø³Øª">Ø¨ÙˆØ¯ÙƒØ§Ø³Øª</option>
                            <option value="Ø¥Ø¹Ù„Ø§Ù†">Ø¥Ø¹Ù„Ø§Ù†</option>
                            <option value="ØªØ­Ø¯ÙŠØ«">ØªØ­Ø¯ÙŠØ«</option>
                        </select>
                    </div>
                    <button type="submit" class="btn btn-primary">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®Ø¨Ø±</button>
                </form>
            </div>

            <div id="newsMessage" class="message" style="display: none;"></div>

            <div class="data-list">
                <h3 style="padding: 1.5rem; border-bottom: 1px solid var(--light-gray); margin: 0;">Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
                <div id="newsList">
                    <!-- Ø§Ù„Ø£Ø®Ø¨Ø§Ø± ØªÙØ¹Ø±Ø¶ Ù‡Ù†Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                </div>
            </div>
        </div>

        <!-- Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ø£Ù‚Ø³Ø§Ù… (Ø³ÙŠØªÙ… Ø¥ÙƒÙ…Ø§Ù„Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹) -->
        <div id="courses" class="tab-content">
    <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª</h2>
    
    <div class="form-container">
        <h3>Ø¥Ø¶Ø§ÙØ© Ù…Ø³ØªÙˆÙ‰ Ø¬Ø¯ÙŠØ¯</h3>
        <form id="courseForm">
            <div class="form-group">
                <label for="courseLanguage">Ø§Ù„Ù„ØºØ©:</label>
                <select id="courseLanguage" name="language" required>
                    <option value="english">Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</option>
                    <option value="german">Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠØ©</option>
                    <option value="french">Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©</option>
                </select>
            </div>
            <div class="form-group">
                <label for="courseLevel">Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</label>
                <input type="text" id="courseLevel" name="level" placeholder="A1, A2, B1, ..." required>
            </div>
            <div class="form-group">
                <label for="courseTitle">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</label>
                <input type="text" id="courseTitle" name="title" required>
            </div>
            <div class="form-group">
                <label for="courseDescription">ÙˆØµÙ Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</label>
                <textarea id="courseDescription" name="description" required></textarea>
            </div>
            <div class="form-group">
                <label for="courseYoutubeLink">Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨:</label>
                <input type="url" id="courseYoutubeLink" name="youtubeLink">
            </div>
            <div class="form-group">
                <label for="courseTelegramGroup">Ø±Ø§Ø¨Ø· Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„ØªÙ„Ø¬Ø±Ø§Ù…:</label>
                <input type="url" id="courseTelegramGroup" name="telegramGroup">
            </div>
            <div class="form-group">
                <label for="courseImage">Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©:</label>
                <input type="url" id="courseImage" name="image" placeholder="https://example.com/image.jpg">
            </div>
            <div class="form-group">
                <label for="courseStatus">Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</label>
                <select id="courseStatus" name="status">
                    <option value="Ù…ÙƒØªÙ…Ù„">Ù…ÙƒØªÙ…Ù„</option>
                    <option value="Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ¬Ù‡ÙŠØ²">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ¬Ù‡ÙŠØ²</option>
                    <option value="Ù‚Ø±ÙŠØ¨Ø§Ù‹">Ù‚Ø±ÙŠØ¨Ø§Ù‹</option>
                    <option value="Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±">Ù‚ÙŠØ¯ Ø§Ù„ØªØ·ÙˆÙŠØ±</option>
                </select>
            </div>
            <button type="submit" class="btn btn-primary">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªÙˆÙ‰</button>
        </form>
    </div>

    <div id="coursesMessage" class="message" style="display: none;"></div>

    <div class="data-list">
        <h3 style="padding: 1.5rem; border-bottom: 1px solid var(--light-gray); margin: 0;">Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
        <div id="coursesList">
            <!-- Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª ØªÙØ¹Ø±Ø¶ Ù‡Ù†Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
        </div>
    </div>
        </div>        
        <div id="lessons" class="tab-content">
    <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯Ø±ÙˆØ³</h2>
    
    <div class="form-container">
        <h3>Ø¥Ø¶Ø§ÙØ© Ø¯Ø±Ø³ Ø¬Ø¯ÙŠØ¯</h3>
        <form id="lessonForm">
            <div class="form-group">
                <label for="lessonLanguage">Ø§Ù„Ù„ØºØ©:</label>
                <select id="lessonLanguage" name="language" required>
                    <option value="english">Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</option>
                    <option value="german">Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠØ©</option>
                    <option value="french">Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©</option>
                </select>
            </div>
            <div class="form-group">
                <label for="lessonLevel">Ø§Ù„Ù…Ø³ØªÙˆÙ‰:</label>
                <input type="text" id="lessonLevel" name="level" placeholder="A1, A2, B1, ..." required>
            </div>
            <div class="form-group">
                <label for="lessonTitle">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¯Ø±Ø³:</label>
                <input type="text" id="lessonTitle" name="title" required>
            </div>
            <div class="form-group">
                <label for="lessonDescription">ÙˆØµÙ Ø§Ù„Ø¯Ø±Ø³:</label>
                <textarea id="lessonDescription" name="description" required></textarea>
            </div>
            <div class="form-group">
                <label for="lessonYoutubeLink">Ø±Ø§Ø¨Ø· ÙŠÙˆØªÙŠÙˆØ¨:</label>
                <input type="url" id="lessonYoutubeLink" name="youtubeLink" required>
            </div>
            <div class="form-group">
                <label for="lessonImage">Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©:</label>
                <input type="url" id="lessonImage" name="image" placeholder="https://example.com/image.jpg">
            </div>
            <div class="form-group">
                <label for="lessonDuration">Ù…Ø¯Ø© Ø§Ù„Ø¯Ø±Ø³:</label>
                <input type="text" id="lessonDuration" name="duration" placeholder="15:30" required>
            </div>
            <div class="form-group">
                <label for="lessonOrder">ØªØ±ØªÙŠØ¨ Ø§Ù„Ø¯Ø±Ø³:</label>
                <input type="number" id="lessonOrder" name="order" value="1" min="1">
            </div>
            <button type="submit" class="btn btn-primary">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯Ø±Ø³</button>
        </form>
    </div>

    <div id="lessonsMessage" class="message" style="display: none;"></div>

    <div class="data-list">
        <h3 style="padding: 1.5rem; border-bottom: 1px solid var(--light-gray); margin: 0;">Ø§Ù„Ø¯Ø±ÙˆØ³ Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
        <div id="lessonsList">
            <!-- Ø§Ù„Ø¯Ø±ÙˆØ³ ØªÙØ¹Ø±Ø¶ Ù‡Ù†Ø§ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
        </div>
    </div>
        </div>        
<div id="notifications" class="tab-content">
    <h2>Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</h2>
    
    <div class="form-container">
        <h3>Ø¥Ø¶Ø§ÙØ© Ø¥Ø´Ø¹Ø§Ø± Ø¬Ø¯ÙŠØ¯</h3>
        <form id="notificationForm">
            <div class="form-group">
                <label for="notificationTitle">Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±:</label>
                <input type="text" id="notificationTitle" name="title" required placeholder="Ø£Ø¯Ø®Ù„ Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±">
            </div>
            
            <div class="form-group">
                <label for="notificationMessage">Ù†Øµ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±:</label>
                <textarea id="notificationMessage" name="message" required placeholder="Ø£Ø¯Ø®Ù„ Ù†Øµ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„ÙƒØ§Ù…Ù„" rows="4"></textarea>
            </div>
            
            <div class="form-group">
                <label for="notificationType">Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±:</label>
                <select id="notificationType" name="type" required>
                    <option value="info">â„¹ï¸ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</option>
                    <option value="success">âœ… Ù†Ø¬Ø§Ø­</option>
                    <option value="warning">âš ï¸ ØªØ­Ø°ÙŠØ±</option>
                    <option value="error">âŒ Ø®Ø·Ø£</option>
                    <option value="update">ğŸ”„ ØªØ­Ø¯ÙŠØ«</option>
                    <option value="event">ğŸ‰ ÙØ¹Ø§Ù„ÙŠØ©</option>
                    <option value="course">ğŸ“š ÙƒÙˆØ±Ø³ Ø¬Ø¯ÙŠØ¯</option>
                    <option value="news">ğŸ“° Ø®Ø¨Ø± Ù‡Ø§Ù…</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="notificationLink">Ø±Ø§Ø¨Ø· Ù…ØªØ¹Ù„Ù‚ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
                <input type="url" id="notificationLink" name="link" placeholder="https://...">
            </div>
            
            <div class="form-group">
                <label for="notificationAudience">Ø§Ù„ÙØ¦Ø© Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ©:</label>
                <select id="notificationAudience" name="audience">
                    <option value="all">ğŸ‘¥ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†</option>
                    <option value="english">ğŸ‡¬ğŸ‡§ Ù…ØªØ¹Ù„Ù…ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©</option>
                    <option value="german">ğŸ‡©ğŸ‡ª Ù…ØªØ¹Ù„Ù…ÙŠ Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠØ©</option>
                    <option value="french">ğŸ‡«ğŸ‡· Ù…ØªØ¹Ù„Ù…ÙŠ Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©</option>
                    <option value="new">ğŸ†• Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø¬Ø¯Ø¯</option>
                    <option value="active">â­ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù†Ø´Ø·ÙŠÙ†</option>
                </select>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="notificationImportant" name="important">
                    ğŸš© Ø¥Ø´Ø¹Ø§Ø± Ù…Ù‡Ù… (Ø³ÙŠØ¸Ù‡Ø± Ø¨Ø´ÙƒÙ„ Ø¨Ø§Ø±Ø²)
                </label>
            </div>
            
            <div class="form-group">
                <label>
                    <input type="checkbox" id="notificationPopup" name="showPopup">
                    ğŸ”” Ø¹Ø±Ø¶ ÙƒÙ†Ø§ÙØ°Ø© Ù…Ù†Ø¨Ø«Ù‚Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
                </label>
            </div>
            
            <div class="form-group">
                <label for="notificationExpiry">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ):</label>
                <input type="date" id="notificationExpiry" name="expiry">
            </div>
            
            <button type="submit" class="btn btn-primary">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±</button>
        </form>
    </div>

    <div id="notificationsMessage" class="message" style="display: none;"></div>

    <!-- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø³Ø±ÙŠØ¹Ø© -->
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
        <div style="background: white; padding: 1.5rem; border-radius: 12px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
            <div style="font-size: 2rem; margin-bottom: 0.5rem;">ğŸ“¨</div>
            <h4 style="color: var(--primary-blue); margin-bottom: 0.5rem;" id="totalNotifications">0</h4>
            <p style="color: var(--gray); font-size: 0.9rem;">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</p>
        </div>
        <div style="background: white; padding: 1.5rem; border-radius: 12px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
            <div style="font-size: 2rem; margin-bottom: 0.5rem;">ğŸ‘ï¸</div>
            <h4 style="color: var(--success); margin-bottom: 0.5rem;" id="unreadNotifications">0</h4>
            <p style="color: var(--gray); font-size: 0.9rem;">ØºÙŠØ± Ù…Ù‚Ø±ÙˆØ¡</p>
        </div>
        <div style="background: white; padding: 1.5rem; border-radius: 12px; text-align: center; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
            <div style="font-size: 2rem; margin-bottom: 0.5rem;">â­</div>
            <h4 style="color: var(--gold); margin-bottom: 0.5rem;" id="importantNotifications">0</h4>
            <p style="color: var(--gray); font-size: 0.9rem;">Ù…Ù‡Ù…Ø©</p>
        </div>
    </div>

    <!-- ÙÙ„Ø§ØªØ± Ø§Ù„Ø¨Ø­Ø« -->
    <div style="background: white; padding: 1.5rem; border-radius: 12px; margin-bottom: 1rem; box-shadow: 0 2px 10px rgba(0,0,0,0.1);">
        <div style="display: flex; gap: 1rem; flex-wrap: wrap; align-items: center;">
            <input type="text" id="searchNotifications" placeholder="ğŸ” Ø¨Ø­Ø« ÙÙŠ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª..." style="flex: 1; min-width: 200px; padding: 0.5rem; border: 1px solid var(--light-gray); border-radius: 6px;">
            
            <select id="filterType" style="padding: 0.5rem; border: 1px solid var(--light-gray); border-radius: 6px;">
                <option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹</option>
                <option value="info">Ù…Ø¹Ù„ÙˆÙ…Ø§Øª</option>
                <option value="success">Ù†Ø¬Ø§Ø­</option>
                <option value="warning">ØªØ­Ø°ÙŠØ±</option>
                <option value="error">Ø®Ø·Ø£</option>
                <option value="update">ØªØ­Ø¯ÙŠØ«</option>
                <option value="event">ÙØ¹Ø§Ù„ÙŠØ©</option>
            </select>
            
            <select id="filterStatus" style="padding: 0.5rem; border: 1px solid var(--light-gray); border-radius: 6px;">
                <option value="all">Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø§Ù„Ø§Øª</option>
                <option value="unread">ØºÙŠØ± Ù…Ù‚Ø±ÙˆØ¡</option>
                <option value="read">Ù…Ù‚Ø±ÙˆØ¡</option>
            </select>
            
            <button onclick="loadNotifications()" class="btn btn-primary" style="padding: 0.5rem 1rem;">ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„ØªØ±</button>
        </div>
    </div>

    <!-- Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
    <div class="data-list">
        <div style="padding: 1.5rem; border-bottom: 1px solid var(--light-gray); margin: 0; display: flex; justify-content: space-between; align-items: center;">
            <h3 style="margin: 0;">Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©</h3>
            <div>
                <button onclick="markAllAsRead()" class="btn" style="background: var(--success); color: white; margin-right: 0.5rem;">ØªØ¹ÙŠÙŠÙ† Ø§Ù„ÙƒÙ„ ÙƒÙ…Ù‚Ø±ÙˆØ¡</button>
                <button onclick="loadNotifications()" class="btn btn-primary">ğŸ”„ ØªØ­Ø¯ÙŠØ«</button>
            </div>
        </div>
        <div id="notificationsList">
            <!-- Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ØªÙØ¹Ø±Ø¶ Ù‡Ù†Ø§ -->
        </div>
    </div>
</div>    </div>

    <script>
        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
        document.querySelectorAll('.nav-tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.nav-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                tab.classList.add('active');
                document.getElementById(tab.dataset.tab).classList.add('active');
            });
        });

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø®Ø¨Ø§Ø±
        const newsForm = document.getElementById('newsForm');
        const newsList = document.getElementById('newsList');
        const newsMessage = document.getElementById('newsMessage');

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø®Ø¨Ø§Ø± Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', loadNews);

        // Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø± Ø¬Ø¯ÙŠØ¯
        newsForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const newsData = {
                title: formData.get('title'),
                description: formData.get('description'),
                image: formData.get('image') || 'https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=400&h=250&fit=crop',
                type: formData.get('type'),
                date: new Date().toISOString().split('T')[0],
                urgent: false
            };

            try {
                const response = await fetch('/admin/api/news', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(newsData)
                });

                const result = await response.json();
                
                if (result.success) {
                    showMessage('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®Ø¨Ø± Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                    newsForm.reset();
                    loadNews();
                } else {
                    showMessage('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø®Ø¨Ø±', 'error');
                }
            } catch (error) {
                showMessage('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±', 'error');
            }
        });

        // ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£Ø®Ø¨Ø§Ø±
        async function loadNews() {
            try {
                const response = await fetch('/admin/api/news');
                const news = await response.json();
                
                newsList.innerHTML = '';
                
                if (news.length === 0) {
                    newsList.innerHTML = '<div class="data-item"><p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø®Ø¨Ø§Ø±</p></div>';
                    return;
                }

                news.forEach(item => {
                    const newsItem = document.createElement('div');
                    newsItem.className = 'data-item';
                    newsItem.innerHTML = `
                        <div class="data-content">
                            <h4>${item.title}</h4>
                            <p>${item.description}</p>
                            <div class="data-meta">
                                ${item.date} â€¢ ${item.type}
                            </div>
                        </div>
                        <div class="data-actions">
                            <button class="btn btn-danger" onclick="deleteNews(${item.id})">Ø­Ø°Ù</button>
                        </div>
                    `;
                    newsList.appendChild(newsItem);
                });
            } catch (error) {
                console.error('Error loading news:', error);
            }
        }

        // Ø­Ø°Ù Ø®Ø¨Ø±
        async function deleteNews(id) {
            if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø®Ø¨Ø±ØŸ')) return;

            try {
                const response = await fetch(`/admin/api/news/${id}`, {
                    method: 'DELETE'
                });

                const result = await response.json();
                
                if (result.success) {
                    showMessage('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø®Ø¨Ø± Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                    loadNews();
                } else {
                    showMessage('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„Ø®Ø¨Ø±', 'error');
                }
            } catch (error) {
                showMessage('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±', 'error');
            }
        }
                // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª
        const courseForm = document.getElementById('courseForm');
        const coursesList = document.getElementById('coursesList');
        const coursesMessage = document.getElementById('coursesMessage');

        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¯Ø±ÙˆØ³
        const lessonForm = document.getElementById('lessonForm');
        const lessonsList = document.getElementById('lessonsList');
        const lessonsMessage = document.getElementById('lessonsMessage');

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', function() {
            loadNews();
            loadCourses();
            loadLessons();
        });

        // Ø¥Ø¶Ø§ÙØ© ÙƒÙˆØ±Ø³ Ø¬Ø¯ÙŠØ¯
        courseForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const courseData = {
                language: formData.get('language'),
                level: formData.get('level'),
                title: formData.get('title'),
                description: formData.get('description'),
                youtubeLink: formData.get('youtubeLink') || '#',
                telegramGroup: formData.get('telegramGroup') || '#',
                image: formData.get('image') || 'https://images.unsplash.com/photo-1546410531-bb4caa6b424d?w=400&h=300&fit=crop',
                status: formData.get('status')
            };

            try {
                const response = await fetch('/admin/api/courses', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(courseData)
                });

                const result = await response.json();
                
                if (result.success) {
                    showCourseMessage('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                    courseForm.reset();
                    loadCourses();
                } else {
                    showCourseMessage('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªÙˆÙ‰', 'error');
                }
            } catch (error) {
                showCourseMessage('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±', 'error');
            }
        });

        // ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª
        async function loadCourses() {
            try {
                const response = await fetch('/admin/api/courses');
                const courses = await response.json();
                
                coursesList.innerHTML = '';
                
                if (Object.keys(courses).length === 0) {
                    coursesList.innerHTML = '<div class="data-item"><p>Ù„Ø§ ØªÙˆØ¬Ø¯ ÙƒÙˆØ±Ø³Ø§Øª</p></div>';
                    return;
                }

                for (const [language, levels] of Object.entries(courses)) {
                    for (const [level, course] of Object.entries(levels)) {
                        const courseItem = document.createElement('div');
                        courseItem.className = 'data-item';
                        courseItem.innerHTML = `
                            <div class="data-content">
                                <h4>${course.title} (${getLanguageName(language)} - ${level})</h4>
                                <p>${course.description}</p>
                                <div class="data-meta">
                                    Ø§Ù„Ø­Ø§Ù„Ø©: ${course.status} | 
                                    ÙŠÙˆØªÙŠÙˆØ¨: ${course.youtubeLink !== '#' ? 'Ù†Ø¹Ù…' : 'Ù„Ø§'} | 
                                    ØªÙ„Ø¬Ø±Ø§Ù…: ${course.telegramGroup !== '#' ? 'Ù†Ø¹Ù…' : 'Ù„Ø§'}
                                </div>
                            </div>
                            <div class="data-actions">
                                <button class="btn btn-danger" onclick="deleteCourse('${language}', '${level}')">Ø­Ø°Ù</button>
                            </div>
                        `;
                        coursesList.appendChild(courseItem);
                    }
                }
            } catch (error) {
                console.error('Error loading courses:', error);
            }
        }

        // Ø­Ø°Ù ÙƒÙˆØ±Ø³
        async function deleteCourse(language, level) {
            if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ØŸ')) return;

            try {
                const response = await fetch(`/admin/api/courses/${language}/${level}`, {
                    method: 'DELETE'
                });

                const result = await response.json();
                
                if (result.success) {
                    showCourseMessage('ØªÙ… Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                    loadCourses();
                } else {
                    showCourseMessage('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªÙˆÙ‰', 'error');
                }
            } catch (error) {
                showCourseMessage('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±', 'error');
            }
        }

        // Ø¥Ø¶Ø§ÙØ© Ø¯Ø±Ø³ Ø¬Ø¯ÙŠØ¯
        lessonForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const lessonData = {
                language: formData.get('language'),
                level: formData.get('level'),
                title: formData.get('title'),
                description: formData.get('description'),
                youtubeLink: formData.get('youtubeLink'),
                image: formData.get('image') || 'https://images.unsplash.com/photo-1546410531-bb4caa6b424d?w=400&h=250&fit=crop',
                duration: formData.get('duration'),
                order: formData.get('order')
            };

            try {
                const response = await fetch('/admin/api/lessons', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(lessonData)
                });

                const result = await response.json();
                
                if (result.success) {
                    showLessonMessage('ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯Ø±Ø³ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                    lessonForm.reset();
                    loadLessons();
                } else {
                    showLessonMessage('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¯Ø±Ø³', 'error');
                }
            } catch (error) {
                showLessonMessage('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±', 'error');
            }
        });

        // ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¯Ø±ÙˆØ³
        async function loadLessons() {
            try {
                const response = await fetch('/admin/api/lessons');
                const lessons = await response.json();
                
                lessonsList.innerHTML = '';
                
                if (Object.keys(lessons).length === 0) {
                    lessonsList.innerHTML = '<div class="data-item"><p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¯Ø±ÙˆØ³</p></div>';
                    return;
                }

                for (const [language, levels] of Object.entries(lessons)) {
                    for (const [level, levelLessons] of Object.entries(levels)) {
                        levelLessons.forEach(lesson => {
                            const lessonItem = document.createElement('div');
                            lessonItem.className = 'data-item';
                            lessonItem.innerHTML = `
                                <div class="data-content">
                                    <h4>${lesson.title} (${getLanguageName(language)} - ${level})</h4>
                                    <p>${lesson.description}</p>
                                    <div class="data-meta">
                                        Ø§Ù„Ù…Ø¯Ø©: ${lesson.duration} | Ø§Ù„ØªØ±ØªÙŠØ¨: ${lesson.order}
                                    </div>
                                </div>
                                <div class="data-actions">
                                    <button class="btn btn-danger" onclick="deleteLesson('${language}', '${level}', ${lesson.id})">Ø­Ø°Ù</button>
                                </div>
                            `;
                            lessonsList.appendChild(lessonItem);
                        });
                    }
                }
            } catch (error) {
                console.error('Error loading lessons:', error);
            }
        }

        // Ø­Ø°Ù Ø¯Ø±Ø³
        async function deleteLesson(language, level, id) {
            if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¯Ø±Ø³ØŸ')) return;

            try {
                const response = await fetch(`/admin/api/lessons/${language}/${level}/${id}`, {
                    method: 'DELETE'
                });

                const result = await response.json();
                
                if (result.success) {
                    showLessonMessage('ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¯Ø±Ø³ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                    loadLessons();
                } else {
                    showLessonMessage('Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„Ø¯Ø±Ø³', 'error');
                }
            } catch (error) {
                showLessonMessage('Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±', 'error');
            }
        }

        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ÙƒÙˆØ±Ø³Ø§Øª
        function showCourseMessage(message, type) {
            coursesMessage.textContent = message;
            coursesMessage.className = `message ${type}`;
            coursesMessage.style.display = 'block';
            
            setTimeout(() => {
                coursesMessage.style.display = 'none';
            }, 5000);
        }

        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„Ø¯Ø±ÙˆØ³
        function showLessonMessage(message, type) {
            lessonsMessage.textContent = message;
            lessonsMessage.className = `message ${type}`;
            lessonsMessage.style.display = 'block';
            
            setTimeout(() => {
                lessonsMessage.style.display = 'none';
            }, 5000);
        }

        // ØªØ­ÙˆÙŠÙ„ ÙƒÙˆØ¯ Ø§Ù„Ù„ØºØ© Ø¥Ù„Ù‰ Ø§Ø³Ù…
        function getLanguageName(langCode) {
            const languages = {
                'english': 'Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©',
                'german': 'Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠØ©',
                'french': 'Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©'
            };
            return languages[langCode] || langCode;
        }
        // Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
        function showMessage(message, type) {
            newsMessage.textContent = message;
            newsMessage.className = `message ${type}`;
            newsMessage.style.display = 'block';
            
            setTimeout(() => {
                newsMessage.style.display = 'none';
            }, 5000);
        }
        // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
const notificationForm = document.getElementById('notificationForm');
const notificationsList = document.getElementById('notificationsList');
const notificationsMessage = document.getElementById('notificationsMessage');

// Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙˆØ£Ù„ÙˆØ§Ù†Ù‡Ø§
const notificationTypes = {
    'info': { icon: 'â„¹ï¸', color: '#3b82f6', bgColor: '#dbeafe' },
    'success': { icon: 'âœ…', color: '#10b981', bgColor: '#d1fae5' },
    'warning': { icon: 'âš ï¸', color: '#f59e0b', bgColor: '#fef3c7' },
    'error': { icon: 'âŒ', color: '#ef4444', bgColor: '#fee2e2' },
    'update': { icon: 'ğŸ”„', color: '#8b5cf6', bgColor: '#ede9fe' },
    'event': { icon: 'ğŸ‰', color: '#ec4899', bgColor: '#fce7f3' },
    'course': { icon: 'ğŸ“š', color: '#06b6d4', bgColor: '#cffafe' },
    'news': { icon: 'ğŸ“°', color: '#f97316', bgColor: '#ffedd5' }
};

// ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
document.addEventListener('DOMContentLoaded', function() {
    loadNotifications();
});

// Ø¥Ø¶Ø§ÙØ© Ø¥Ø´Ø¹Ø§Ø± Ø¬Ø¯ÙŠØ¯
notificationForm.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const formData = new FormData(e.target);
    const notificationData = {
        title: formData.get('title'),
        message: formData.get('message'),
        type: formData.get('type'),
        link: formData.get('link') || '#',
        audience: formData.get('audience'),
        important: formData.get('important') === 'on',
        showPopup: formData.get('showPopup') === 'on',
        expiry: formData.get('expiry') || null
    };

    try {
        const response = await fetch('/admin/api/notifications', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(notificationData)
        });

        const result = await response.json();
        
        if (result.success) {
            showNotificationMessage('âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­!', 'success');
            notificationForm.reset();
            loadNotifications();
        } else {
            showNotificationMessage('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±', 'error');
        }
    } catch (error) {
        showNotificationMessage('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±', 'error');
    }
});

// ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
async function loadNotifications() {
    try {
        const response = await fetch('/admin/api/notifications');
        let notifications = await response.json();
        
        // ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„ÙÙ„Ø§ØªØ±
        const searchTerm = document.getElementById('searchNotifications').value.toLowerCase();
        const filterType = document.getElementById('filterType').value;
        const filterStatus = document.getElementById('filterStatus').value;
        
        if (searchTerm) {
            notifications = notifications.filter(n => 
                n.title.toLowerCase().includes(searchTerm) || 
                n.message.toLowerCase().includes(searchTerm)
            );
        }
        
        if (filterType !== 'all') {
            notifications = notifications.filter(n => n.type === filterType);
        }
        
        if (filterStatus !== 'all') {
            notifications = notifications.filter(n => 
                filterStatus === 'unread' ? !n.read : n.read
            );
        }
        
        displayNotifications(notifications);
        updateStatistics(notifications);
        
    } catch (error) {
        console.error('Error loading notifications:', error);
        notificationsList.innerHTML = '<div class="data-item"><p>âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</p></div>';
    }
}

// Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙÙŠ Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
function displayNotifications(notifications) {
    notificationsList.innerHTML = '';
    
    if (notifications.length === 0) {
        notificationsList.innerHTML = '<div class="data-item"><p>ğŸ“­ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø´Ø¹Ø§Ø±Ø§Øª</p></div>';
        return;
    }

    notifications.forEach(notification => {
        const typeInfo = notificationTypes[notification.type] || notificationTypes.info;
        const isExpired = notification.expiry && new Date(notification.expiry) < new Date();
        
        const notificationItem = document.createElement('div');
        notificationItem.className = 'data-item';
        if (isExpired) {
            notificationItem.style.opacity = '0.6';
            notificationItem.style.background = '#f8f9fa';
        }
        
        notificationItem.innerHTML = `
            <div class="data-content" style="flex: 1;">
                <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
                    <span style="font-size: 1.2rem;">${typeInfo.icon}</span>
                    <h4 style="margin: 0; color: ${typeInfo.color}; display: flex; align-items: center; gap: 0.5rem;">
                        ${notification.title}
                        ${notification.important ? '<span style="background: #ef4444; color: white; padding: 2px 6px; border-radius: 10px; font-size: 0.7rem;">Ù…Ù‡Ù…</span>' : ''}
                        ${isExpired ? '<span style="background: #6b7280; color: white; padding: 2px 6px; border-radius: 10px; font-size: 0.7rem;">Ù…Ù†ØªÙ‡ÙŠ</span>' : ''}
                    </h4>
                </div>
                <p style="margin-bottom: 0.5rem; line-height: 1.5;">${notification.message}</p>
                <div class="data-meta" style="display: flex; gap: 1rem; flex-wrap: wrap; font-size: 0.85rem;">
                    <span>â° ${new Date(notification.timestamp).toLocaleString('ar-EG')}</span>
                    <span>ğŸ‘¥ ${getAudienceText(notification.audience)}</span>
                    <span style="color: ${notification.read ? '#10b981' : '#ef4444'};">
                        ${notification.read ? 'âœ… Ù…Ù‚Ø±ÙˆØ¡' : 'ğŸ‘ï¸ ØºÙŠØ± Ù…Ù‚Ø±ÙˆØ¡'}
                    </span>
                    ${notification.expiry ? `<span>ğŸ“… ÙŠÙ†ØªÙ‡ÙŠ: ${new Date(notification.expiry).toLocaleDateString('ar-EG')}</span>` : ''}
                    ${notification.link !== '#' ? `<span>ğŸ”— <a href="${notification.link}" target="_blank">Ø±Ø§Ø¨Ø·</a></span>` : ''}
                </div>
            </div>
            <div class="data-actions" style="display: flex; gap: 0.5rem; flex-direction: column;">
                ${!notification.read ? `
                    <button class="btn" style="background: #10b981; color: white;" onclick="markAsRead(${notification.id})">
                        ØªØ¹ÙŠÙŠÙ† ÙƒÙ…Ù‚Ø±ÙˆØ¡
                    </button>
                ` : ''}
                <button class="btn btn-danger" onclick="deleteNotification(${notification.id})">
                    Ø­Ø°Ù
                </button>
            </div>
        `;
        notificationsList.appendChild(notificationItem);
    });
}

// ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
function updateStatistics(notifications) {
    const total = notifications.length;
    const unread = notifications.filter(n => !n.read).length;
    const important = notifications.filter(n => n.important).length;
    
    document.getElementById('totalNotifications').textContent = total;
    document.getElementById('unreadNotifications').textContent = unread;
    document.getElementById('importantNotifications').textContent = important;
}

// ØªØ¹ÙŠÙŠÙ† Ø¥Ø´Ø¹Ø§Ø± ÙƒÙ…Ù‚Ø±ÙˆØ¡
async function markAsRead(id) {
    try {
        const response = await fetch(`/admin/api/notifications/${id}/read`, {
            method: 'PUT'
        });

        const result = await response.json();
        
        if (result.success) {
            showNotificationMessage('âœ… ØªÙ… ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± ÙƒÙ…Ù‚Ø±ÙˆØ¡', 'success');
            loadNotifications();
        } else {
            showNotificationMessage('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±', 'error');
        }
    } catch (error) {
        showNotificationMessage('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±', 'error');
    }
}

// ØªØ¹ÙŠÙŠÙ† ÙƒÙ„ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙƒÙ…Ù‚Ø±ÙˆØ¡Ø©
async function markAllAsRead() {
    if (!confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ ØªØ¹ÙŠÙŠÙ† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙƒÙ…Ù‚Ø±ÙˆØ¡Ø©ØŸ')) return;

    try {
        const response = await fetch('/admin/api/notifications');
        const notifications = await response.json();
        
        const unreadNotifications = notifications.filter(n => !n.read);
        
        for (const notification of unreadNotifications) {
            await fetch(`/admin/api/notifications/${notification.id}/read`, {
                method: 'PUT'
            });
        }
        
        showNotificationMessage(`âœ… ØªÙ… ØªØ¹ÙŠÙŠÙ† ${unreadNotifications.length} Ø¥Ø´Ø¹Ø§Ø± ÙƒÙ…Ù‚Ø±ÙˆØ¡`, 'success');
        loadNotifications();
    } catch (error) {
        showNotificationMessage('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª ÙƒÙ…Ù‚Ø±ÙˆØ¡Ø©', 'error');
    }
}

// Ø­Ø°Ù Ø¥Ø´Ø¹Ø§Ø±
async function deleteNotification(id) {
    if (!confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ù‡Ø°Ø§ Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±ØŸ')) return;

    try {
        const response = await fetch(`/admin/api/notifications/${id}`, {
            method: 'DELETE'
        });

        const result = await response.json();
        
        if (result.success) {
            showNotificationMessage('âœ… ØªÙ… Ø­Ø°Ù Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­', 'success');
            loadNotifications();
        } else {
            showNotificationMessage('âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­Ø°Ù Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±', 'error');
        }
    } catch (error) {
        showNotificationMessage('âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø³ÙŠØ±ÙØ±', 'error');
    }
}

// ÙˆØ¸Ø§Ø¦Ù Ù…Ø³Ø§Ø¹Ø¯Ø©
function getAudienceText(audience) {
    const audiences = {
        'all': 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†',
        'english': 'Ù…ØªØ¹Ù„Ù…ÙŠ Ø§Ù„Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ©',
        'german': 'Ù…ØªØ¹Ù„Ù…ÙŠ Ø§Ù„Ø£Ù„Ù…Ø§Ù†ÙŠØ©', 
        'french': 'Ù…ØªØ¹Ù„Ù…ÙŠ Ø§Ù„ÙØ±Ù†Ø³ÙŠØ©',
        'new': 'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ø¬Ø¯Ø¯',
        'active': 'Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø§Ù„Ù†Ø´Ø·ÙŠÙ†'
    };
    return audiences[audience] || audience;
}

// Ø¹Ø±Ø¶ Ø§Ù„Ø±Ø³Ø§Ø¦Ù„
function showNotificationMessage(message, type) {
    notificationsMessage.textContent = message;
    notificationsMessage.className = `message ${type}`;
    notificationsMessage.style.display = 'block';
    
    setTimeout(() => {
        notificationsMessage.style.display = 'none';
    }, 5000);
}

// Ø§Ù„Ø¨Ø­Ø« Ø§Ù„ÙÙˆØ±ÙŠ
document.getElementById('searchNotifications').addEventListener('input', debounce(loadNotifications, 300));

// Ø¯Ø§Ù„Ø© debounce Ù„Ù„Ø¨Ø­Ø«
function debounce(func, wait) {
    let timeout;
    return function executedFunction(...args) {
        const later = () => {
            clearTimeout(timeout);
            func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
    };
}
    </script>
</body>
</html>